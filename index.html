<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>استفسار عن موديل Hugging Face</title>
</head>
<body>

    <h1>ا3سأل موديل Hugging Face</h1>
    <label for="question">ادخل سؤالك: </label>
    <input type="text" id="question" placeholder="أدخل سؤالك هنا">
    <button id="askBtn">اسأل</button>

    <h2>الإجابة:</h2>
    <p id="answer"></p>

    <script>
        document.getElementById('askBtn').addEventListener('click', ask);

        async function ask() {
            const question = document.getElementById('question').value;
            const apiKey = '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';  // توكن API الخاص بك
            const model = 'moonshotai/Kimi-K2-Thinking:novita'; // موديل Hugging Face الذي تريد استخدامه

            // استخدام CORS Proxy لحل مشكلة CORS
            const proxyUrl = 'https://api.allorigins.win/get?url='; // يمكن استخدام أي CORS Proxy
            const apiUrl = `https://api-inference.huggingface.co/models/${model}`;
            
            const requestData = {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${apiKey}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    inputs: question
                })
            };

            try {
                // إرسال الطلب عبر CORS Proxy
                const response = await fetch(proxyUrl + encodeURIComponent(apiUrl), requestData);
                const data = await response.json();
                if (data && data.choices && data.choices.length > 0) {
                    document.getElementById('answer').textContent = data.choices[0].message.content;
                } else {
                    document.getElementById('answer').textContent = "لم تتم الإجابة على السؤال.";
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('answer').textContent = "حدث خطأ أثناء الاتصال بالموديل.";
            }
        }
    </script>

</body>
</html>
